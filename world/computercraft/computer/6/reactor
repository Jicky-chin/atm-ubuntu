function Split(s, delimiter)
    result = {};
    for match in (s..delimiter):gmatch("(.-)"..delimiter) do
        table.insert(result, match);
    end
    return result;
end

id = "2"
modem = peripheral.wrap("top")
reactor = peripheral.wrap("back")

modem.open(1)
modem.transmit(1,1, "connected: " .. id);

while true do
  os.sleep(1)

  local active = reactor.getActive()
  local energy = reactor.getEnergyStored()
  local fuel = reactor.getFuelAmount()
  modem.transmit(1,1,"device:" ..  id .. "-active:" .. (active and "yes" or "no") .. "-energy:" .. energy .. "-fuel:" .. fuel);
end